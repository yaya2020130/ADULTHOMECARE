{"ast":null,"code":"import _slicedToArray from\"/Users/yaredgebrie/Desktop/code/ADULTHOMECARE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"../layout/style.css\";import{Link,useHistory}from\"react-router-dom\";import API from\"../utils/API\";import\"../components/LogInBtn/style.css\";import Dropdown from\"react-dropdown\";import\"react-dropdown/style.css\";function Login(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),code=_useState6[0],setCode=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),login=_useState8[0],setLogin=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),logout=_useState10[0],setLogout=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),userOption=_useState12[0],setUserOption=_useState12[1];var history=useHistory();var options=['Manager','Employee'];var defaultOption=options[0];function _onSelect(option){console.log('You selected ',option.label);if(option.label===\"Manager\"){setUserOption(true);}else if(option.label===\"Employee\"){setUserOption(false);}}var handleLogin=function handleLogin(){console.log(username,password);API.login({username:username,password:password}).then(function(data){// props.isLogedin(data.data)\n// history.push(\"/patient\")\nif(data.data===\"Incorrect password!\"){console.log(\"wrongpassword\");}else if(data.data===\"cannot find user!\"){console.log(\"no user\");// history.push(\"/patient\")\n}else{props.isLogedin(data.data);console.log(\"success\");history.push(\"/patient\");}});};var handleLogoutClick=function handleLogoutClick(event){API.Logout().then(function(res){setLogout();history.push.current('/');});};var handleSignup=function handleSignup(){API.signup({username:username,password:password,isAdmin:userOption}).then(function(data){return console.log(data);});console.log(\"userOption\",userOption);};return/*#__PURE__*/React.createElement(\"form\",{className:\"Card\"},/*#__PURE__*/React.createElement(\"div\",{class:\"login-page container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s12\"},/*#__PURE__*/React.createElement(\"div\",{class:\"register-form\"},/*#__PURE__*/React.createElement(\"h2\",null,login?\"Log In\":\"Sign Up\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{id:\"create-name\",type:\"text\",placeholder:\"enter your name\",onChange:function onChange(e){return setUsername(e.target.value);}})),/*#__PURE__*/React.createElement(\"input\",{id:\"create-password\",type:\"password\",placeholder:\"enter your password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/React.createElement(\"div\",null),login?\"\":/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Dropdown,{options:options,value:defaultOption,placeholder:\"Select an option\",onChange:_onSelect}),/*#__PURE__*/React.createElement(\"div\",null)),/*#__PURE__*/React.createElement(\"button\",{onClick:login?handleLogin:handleSignup,id:\"create-acc\"},login?\"Log In\":\"Submit\"),login?/*#__PURE__*/React.createElement(\"p\",{class:\"message\"},\"Not registered?\",/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return setLogin(false);},href:\"#\"},\"Create an account\")):/*#__PURE__*/React.createElement(\"p\",{class:\"message\"},\"Already registered?\",\" \",/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return setLogin(true);},href:\"#\"},\"Log In\"),\" \",/*#__PURE__*/React.createElement(\"button\",{onClick:logout?handleLogoutClick:\"\",id:\"create-acc\"},\"log out\")))))));}export default Login;","map":{"version":3,"sources":["/Users/yaredgebrie/Desktop/code/ADULTHOMECARE/src/layout/Login.js"],"names":["React","useState","Link","useHistory","API","Dropdown","Login","props","username","setUsername","password","setPassword","code","setCode","login","setLogin","logout","setLogout","userOption","setUserOption","history","options","defaultOption","_onSelect","option","console","log","label","handleLogin","then","data","isLogedin","push","handleLogoutClick","event","Logout","res","current","handleSignup","signup","isAdmin","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"../layout/style.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport API from \"../utils/API\";\n\nimport \"../components/LogInBtn/style.css\";\nimport Dropdown from \"react-dropdown\";\nimport \"react-dropdown/style.css\";\n\nfunction Login(props) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const [login, setLogin] = useState(false);\n  const [logout, setLogout] = useState(false);\n  const [userOption, setUserOption] = useState(false);\n  let history = useHistory();\n\n  const options = [\n    'Manager', 'Employee'\n  ];\n  const defaultOption = options[0];\n\n  function _onSelect(option) {\n    console.log('You selected ', option.label)\n\n    if (option.label === \"Manager\") {\n      setUserOption(true)\n\n\n    } else if (option.label === \"Employee\") {\n      setUserOption(false)\n    }\n  }\n\n  const handleLogin = () => {\n    console.log(username, password);\n    API.login({ username, password }).then((data) => {\n      // props.isLogedin(data.data)\n\n      // history.push(\"/patient\")\n      if (data.data === \"Incorrect password!\") {\n        console.log(\"wrongpassword\");\n      } else if (data.data === \"cannot find user!\") {\n        console.log(\"no user\");\n\n        // history.push(\"/patient\")\n      } else {\n        props.isLogedin(data.data);\n        console.log(\"success\");\n        history.push(\"/patient\");\n      }\n    });\n  };\n  const handleLogoutClick = (event) => {\n    API.Logout().then((res) => {\n     setLogout();\n         history.push.current('/')\n    });\n  };\n\n  const handleSignup = () => {\n    API.signup({ username, password, isAdmin: userOption }).then((data) =>\n      console.log(data)\n    );\n    console.log(\"userOption\", userOption);\n  };\n\n  return (\n    <form className=\"Card\">\n      <div class=\"login-page container\">\n        <div className=\"row\">\n          <div className=\"col s12\">\n            <div class=\"register-form\">\n              <h2>{login ? \"Log In\" : \"Sign Up\"}</h2>\n              <div>\n                <input\n                  id=\"create-name\"\n                  type=\"text\"\n                  placeholder=\"enter your name\"\n                  onChange={(e) => setUsername(e.target.value)}\n                />\n              </div>\n              <input\n                id=\"create-password\"\n                type=\"password\"\n                placeholder=\"enter your password\"\n                onChange={(e) => setPassword(e.target.value)}\n              />\n              <div />\n              {login ? (\n                \"\"\n              ) : (\n                <>\n                  <Dropdown\n                    options={options}\n                    value={defaultOption}\n                    placeholder=\"Select an option\"\n                    onChange={_onSelect}\n                  />\n                  \n                  <div />\n                </>\n              )}\n\n              <button\n                onClick={login ? handleLogin : handleSignup}\n                id=\"create-acc\"\n              >\n                {login ? \"Log In\" : \"Submit\"}\n              </button>\n\n              \n\n              {login ? (\n                <p class=\"message\">\n                  Not registered?\n                  <a onClick={() => setLogin(false)} href=\"#\">\n                    Create an account\n                  </a>\n                </p>\n              ) : (\n                <p class=\"message\">\n                  Already registered?{\" \"}\n                  <a onClick={() => setLogin(true)} href=\"#\">\n                    Log In\n                  </a>{\" \"}\n                  <button\n                onClick={logout ? handleLogoutClick : \"\"}\n                id=\"create-acc\"\n              >\n                log out\n              </button>\n                </p>\n                \n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}