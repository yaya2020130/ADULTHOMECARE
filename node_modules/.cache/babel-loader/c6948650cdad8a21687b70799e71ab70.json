{"ast":null,"code":"var _jsxFileName = \"/Users/yaredgebrie/Desktop/code/ADULTHOMECARE/src/layout/Login.js\";\nimport React, { useState } from \"react\";\nimport \"../layout/style.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport API from \"../utils/API\";\nimport \"../components/LogInBtn/style.css\";\nimport Dropdown from \"react-dropdown\";\nimport \"react-dropdown/style.css\";\n\nfunction Login(props) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const [login, setLogin] = useState(false);\n  const [logout, setLogout] = useState(false);\n  const [userOption, setUserOption] = useState(false);\n  let history = useHistory();\n  const options = ['Manager', 'Employee'];\n  const defaultOption = options[0];\n\n  function _onSelect(option) {\n    console.log('You selected ', option.label);\n\n    if (option.label === \"Manager\") {\n      setUserOption(true);\n    } else if (option.label === \"Employee\") {\n      setUserOption(false);\n    }\n  }\n\n  const handleLogin = () => {\n    console.log(username, password);\n    API.login({\n      username,\n      password\n    }).then(data => {\n      // props.isLogedin(data.data)\n      // history.push(\"/patient\")\n      if (data.data === \"Incorrect password!\") {\n        console.log(\"wrongpassword\");\n      } else if (data.data === \"cannot find user!\") {\n        console.log(\"no user\"); // history.push(\"/patient\")\n      } else {\n        props.isLogedin(data.data);\n        console.log(\"success\");\n        history.push(\"/patient\");\n      }\n    });\n  };\n\n  const handleLogoutClick = event => {\n    API.Logout().then(res => {\n      setLogout();\n      history.push.current('/');\n    });\n  };\n\n  const handleSignup = () => {\n    API.signup({\n      username,\n      password,\n      isAdmin: userOption\n    }).then(data => console.log(data));\n    console.log(\"userOption\", userOption);\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"Card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"login-page container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"register-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, login ? \"Log In\" : \"Sign Up\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"create-name\",\n    type: \"text\",\n    placeholder: \"enter your name\",\n    onChange: e => setUsername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"create-password\",\n    type: \"password\",\n    placeholder: \"enter your password\",\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }), login ? \"\" : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dropdown, {\n    options: options,\n    value: defaultOption,\n    placeholder: \"Select an option\",\n    onChange: _onSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: login ? handleLogin : handleSignup,\n    id: \"create-acc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, login ? \"Log In\" : \"Submit\"), login ? /*#__PURE__*/React.createElement(\"p\", {\n    class: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, \"Not registered?\", /*#__PURE__*/React.createElement(\"a\", {\n    onClick: () => setLogin(false),\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, \"Create an account\")) : /*#__PURE__*/React.createElement(\"p\", {\n    class: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, \"Already registered\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n    onClick: () => setLogin(true),\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }, \"Log In\"), \" \", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: logout ? handleLogoutClick : \"\",\n    id: \"create-acc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }\n  }, \"log out\")))))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/yaredgebrie/Desktop/code/ADULTHOMECARE/src/layout/Login.js"],"names":["React","useState","Link","useHistory","API","Dropdown","Login","props","username","setUsername","password","setPassword","code","setCode","login","setLogin","logout","setLogout","userOption","setUserOption","history","options","defaultOption","_onSelect","option","console","log","label","handleLogin","then","data","isLogedin","push","handleLogoutClick","event","Logout","res","current","handleSignup","signup","isAdmin","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"../layout/style.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport API from \"../utils/API\";\n\nimport \"../components/LogInBtn/style.css\";\nimport Dropdown from \"react-dropdown\";\nimport \"react-dropdown/style.css\";\n\nfunction Login(props) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const [login, setLogin] = useState(false);\n  const [logout, setLogout] = useState(false);\n  const [userOption, setUserOption] = useState(false);\n  let history = useHistory();\n\n  const options = [\n    'Manager', 'Employee'\n  ];\n  const defaultOption = options[0];\n\n  function _onSelect(option) {\n    console.log('You selected ', option.label)\n\n    if (option.label === \"Manager\") {\n      setUserOption(true)\n\n\n    } else if (option.label === \"Employee\") {\n      setUserOption(false)\n    }\n  }\n\n  const handleLogin = () => {\n    console.log(username, password);\n    API.login({ username, password }).then((data) => {\n      // props.isLogedin(data.data)\n\n      // history.push(\"/patient\")\n      if (data.data === \"Incorrect password!\") {\n        console.log(\"wrongpassword\");\n      } else if (data.data === \"cannot find user!\") {\n        console.log(\"no user\");\n\n        // history.push(\"/patient\")\n      } else {\n        props.isLogedin(data.data);\n        console.log(\"success\");\n        history.push(\"/patient\");\n      }\n    });\n  };\n  const handleLogoutClick = (event) => {\n    API.Logout().then((res) => {\n     setLogout();\n         history.push.current('/')\n    });\n  };\n\n  const handleSignup = () => {\n    API.signup({ username, password, isAdmin: userOption }).then((data) =>\n      console.log(data)\n    );\n    console.log(\"userOption\", userOption);\n  };\n\n  return (\n    <form className=\"Card\">\n      <div class=\"login-page container\">\n        <div className=\"row\">\n          <div className=\"col s12\">\n            <div class=\"register-form\">\n              <h2>{login ? \"Log In\" : \"Sign Up\"}</h2>\n              <div>\n                <input\n                  id=\"create-name\"\n                  type=\"text\"\n                  placeholder=\"enter your name\"\n                  onChange={(e) => setUsername(e.target.value)}\n                />\n              </div>\n              <input\n                id=\"create-password\"\n                type=\"password\"\n                placeholder=\"enter your password\"\n                onChange={(e) => setPassword(e.target.value)}\n              />\n              <div />\n              {login ? (\n                \"\"\n              ) : (\n                <>\n                  <Dropdown\n                    options={options}\n                    value={defaultOption}\n                    placeholder=\"Select an option\"\n                    onChange={_onSelect}\n                  />\n                  \n                  <div />\n                </>\n              )}\n\n              <button\n                onClick={login ? handleLogin : handleSignup}\n                id=\"create-acc\"\n              >\n                {login ? \"Log In\" : \"Submit\"}\n              </button>\n\n              \n\n              {login ? (\n                <p class=\"message\">\n                  Not registered?\n                  <a onClick={() => setLogin(false)} href=\"#\">\n                    Create an account\n                  </a>\n                </p>\n              ) : (\n                <p class=\"message\">\n                  Already registered{\" \"}\n                  <a onClick={() => setLogin(true)} href=\"#\">\n                    Log In\n                  </a>{\" \"}\n                  <button\n                onClick={logout ? handleLogoutClick : \"\"}\n                id=\"create-acc\"\n              >\n                log out\n              </button>\n                </p>\n                \n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}